---
import Layout from '../layouts/Layout.astro';
import NivelCard from '../components/NivelCard.astro';
import HeroCarousel from '../components/HeroCarousel.astro';
import WhatsAppFloat from '../components/WhatsAppFloat.astro';

const heroSlides = [
  {
    title: 'Educaci√≥n que <span class="text-transparent bg-clip-text bg-gradient-to-r from-colegio-yellow via-yellow-300 to-amber-400">Inspira</span> el Futuro',
    subtitle: '‚ú® Ciclo Escolar 2026 - Inscripciones Abiertas',
    description: 'Formamos l√≠deres con valores, excelencia acad√©mica y visi√≥n global para transformar el mundo.',
    video: '/Video_Carrusel.mp4',
    cta: {
      text: 'Proceso de Admisi√≥n',
      link: '/admisiones'
    }
  },
  {
    title: 'Educaci√≥n que <span class="text-transparent bg-clip-text bg-gradient-to-r from-colegio-yellow via-yellow-300 to-amber-400">Inspira</span> el Futuro',
    subtitle: '‚ú® Ciclo Escolar 2026 - Inscripciones Abiertas',
    description: 'Formamos l√≠deres con valores, excelencia acad√©mica y visi√≥n global para transformar el mundo.',
    image: '/PORTADA.webp',
    cta: {
      text: 'Proceso de Admisi√≥n',
      link: '/admisiones'
    }
  },
  {
    title: 'Excelencia <span class="text-transparent bg-clip-text bg-gradient-to-r from-colegio-yellow via-yellow-300 to-amber-400">Acad√©mica</span> Comprobada',
    subtitle: 'üèÜ 25 A√±os de Trayectoria',
    description: '98% de nuestros egresados ingresan a las mejores universidades del pa√≠s.',
    image: '/PORTADA2.webp',
    cta: {
      text: 'Conoce Nuestros Logros',
      link: '/nosotros'
    }
  },
  {
    title: 'Formaci√≥n <span class="text-transparent bg-clip-text bg-gradient-to-r from-colegio-yellow via-yellow-300 to-amber-400">Biling√ºe</span> y Tecnol√≥gica',
    subtitle: 'üåé Visi√≥n Global',
    description: 'Preparamos estudiantes competitivos con dominio del ingl√©s y habilidades digitales del siglo XXI.',
    image: '/PORTADA.webp',
    cta: {
      text: 'Descubre Nuestro Modelo',
      link: '/modelo-educativo'
    }
  },
  {
    title: 'Instalaciones de <span class="text-transparent bg-clip-text bg-gradient-to-r from-colegio-yellow via-yellow-300 to-amber-400">Primera Clase</span>',
    subtitle: 'üè´ Espacios Modernos',
    description: 'Laboratorios, canchas deportivas, biblioteca digital y aulas equipadas con tecnolog√≠a de punta.',
    image: '/PORTADA2.webp',
    cta: {
      text: 'Conoce el Campus',
      link: '/instalaciones'
    }
  }
];
---

<Layout title="Bienvenidos | BR√úNING SCHOOL">
  <!-- Bot√≥n flotante de WhatsApp -->
  <WhatsAppFloat phoneNumber="51999928258" message="¬°Hola! Me gustar√≠a obtener m√°s informaci√≥n sobre el proceso de admisi√≥n." />
  
  <!-- Hero Carousel -->
  <HeroCarousel slides={heroSlides} autoplayInterval={6000} />

  <!-- Secci√≥n de Estad√≠sticas -->
  <section class="py-16 bg-gradient-to-r from-colegio-blue to-colegio-blue/90 text-white">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <div class="stat-item">
          <div class="mb-4 flex justify-center">
            <img src="/Logos/EXCELENCIA.webp" alt="Excelencia" class="w-16 h-16 object-contain" />
          </div>
          <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="9">0</div>
          <div class="text-sm md:text-base font-semibold opacity-90">A√±os de Excelencia</div>
        </div>

        <div class="stat-item">
          <div class="mb-4 flex justify-center">
            <svg class="w-16 h-16 text-colegio-yellow" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10.394 2.827a1 1 0 00-.788 0l-7 3a1 1 0 000 1.848L3.394 7.03A1.99 1.99 0 003 8v6a2 2 0 002 2h10a2 2 0 002-2V8c0-.345-.088-.666-.228-.961l.788-.338a1 1 0 000-1.848l-7-3zM10 12a3 3 0 100-6 3 3 0 000 6z"/>
            </svg>
          </div>
          <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="500">0</div>
          <div class="text-sm md:text-base font-semibold opacity-90">Exalumnos</div>
        </div>
        
        <div class="stat-item">
          <div class="mb-4 flex justify-center">
            <img src="/Logos/CAMBRIDGE.webp" alt="Cambridge" class="w-16 h-16 object-contain" />
          </div>
          <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="600">0</div>
          <div class="text-sm md:text-base font-semibold opacity-90">Certificaciones Cambridge</div>
        </div>
        <div class="stat-item">
          <div class="mb-4 flex justify-center">
            <img src="/Logos/IBEC.webp" alt="IBEC" class="w-16 h-16 object-contain" />
          </div>
          <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="500">0</div>
          <div class="text-sm md:text-base font-semibold opacity-90">Certificaciones IBEC</div>
        </div>
      </div>
    </div>
  </section>

<!-- Secci√≥n Bienvenidos -->
<section class="relative bg-colegio-gray overflow-hidden">

  <div class="max-w-7xl mx-auto px-6">
    <div class="grid md:grid-cols-[1.3fr_1fr] items-center min-h-[600px]">

      <!-- TEXTO -->
      <div class="py-14 md:py-20">
        <span class="block w-16 h-1 bg-colegio-yellow mb-6"></span>

        <h2 class="text-4xl md:text-5xl font-black text-colegio-blue leading-tight mb-6">
          ¬øEs <span class="text-colegio-yellow">BR√úNING SCHOOL</span><br />
          el lugar ideal para tu hijo?
        </h2>

        <p class="text-gray-700 text-lg mb-8 max-w-2xl">
          Sabemos que buscas un lugar donde tu hijo crezca feliz, seguro y con un
          prop√≥sito claro. En Br√ºnning School lo acompa√±amos a descubrir su
          potencial y desarrollar confianza para el futuro.
        </p>

        <p class="text-colegio-yellow font-semibold mb-4">
          Si deseas para tu hijo:
        </p>

        <ul class="space-y-4 mb-10 max-w-2xl">
          <li class="flex items-start gap-3">
            <span class="text-colegio-yellow text-xl">‚úì</span>
            <span>Motivaci√≥n diaria y un genuino inter√©s por aprender.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-colegio-yellow text-xl">‚úì</span>
            <span>Un equipo que fortalezca su car√°cter y confianza.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-colegio-yellow text-xl">‚úì</span>
            <span>
              Una metodolog√≠a con herramientas para triunfar dentro y fuera del
              pa√≠s.
            </span>
          </li>
        </ul>
      </div>

    </div>
  </div>

  <!-- IMAGEN (NO LLEGA ABAJO) -->
  <div class="absolute top-0 right-0 w-[40%] h-[650px] hidden md:block">
    <img
      src="/Bienvenidos/BIENVENIDOS.webp"
      alt="Ni√±os en Bruning School"
      class="w-full h-full object-cover rounded-bl-[300px]"
    />
  </div>

</section>

  <!-- Universidades -->
  <section class="py-24 bg-gradient-to-br from-colegio-blue via-colegio-blue/95 to-colegio-blue text-white relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-colegio-yellow/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-white/5 rounded-full blur-3xl"></div>
    
    <div class="max-w-6xl mx-auto px-4 relative z-10">
      <div class="text-center mb-16 fade-in-section">
        <span class="text-colegio-yellow font-bold text-sm tracking-wider uppercase mb-2 block">Nuestro Orgullo</span>
        <h2 class="text-4xl md:text-5xl font-black mb-4">Universidades de Destino</h2>
        <div class="w-24 h-1.5 bg-gradient-to-r from-transparent via-colegio-yellow to-transparent mx-auto"></div>
        <p class="mt-6 text-white/90 text-lg max-w-2xl mx-auto">
          Nuestros egresados ingresan a las universidades m√°s prestigiosas del pa√≠s, demostrando la excelencia de su formaci√≥n acad√©mica.
        </p>
      </div>

      <!-- Carrusel de Universidades Estilo Coverflow -->
      <div class="relative max-w-6xl mx-auto px-4">
        <div class="flex items-center justify-center gap-4 md:gap-8 perspective-1000">
          <!-- Imagen Izquierda -->
          <div id="universidad-left" class="hidden md:block cursor-pointer transform scale-75 opacity-50 hover:opacity-75 transition-all duration-300 hover:scale-80">
            <div class="bg-white rounded-2xl shadow-xl p-4 w-40 flex items-center justify-center">
              <img src="" alt="" class="max-w-full h-auto object-contain" />
            </div>
          </div>

          <!-- Imagen Central (Principal) -->
          <div id="universidad-center" class="transform scale-100 z-10">
            <div class="bg-white rounded-3xl shadow-lg p-8 w-64 md:w-80 flex items-center justify-center">
              <img src="" alt="" class="max-w-full h-auto object-contain" />
            </div>
          </div>

          <!-- Imagen Derecha -->
          <div id="universidad-right" class="hidden md:block cursor-pointer transform scale-75 opacity-50 hover:opacity-75 transition-all duration-300 hover:scale-80">
            <div class="bg-white rounded-2xl shadow-xl p-4 w-40 flex items-center justify-center">
              <img src="" alt="" class="max-w-full h-auto object-contain" />
            </div>
          </div>
        </div>

        <!-- Flechas de navegaci√≥n -->
        <button id="prev-universidad" class="absolute left-0 md:left-4 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-white hover:text-colegio-blue p-4 rounded-full shadow-xl transition-all duration-300 z-20 hover:scale-110">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <button id="next-universidad" class="absolute right-0 md:right-4 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-white hover:text-colegio-blue p-4 rounded-full shadow-xl transition-all duration-300 z-20 hover:scale-110">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>

        <!-- Indicadores de puntos -->
        <div class="flex justify-center gap-3 mt-12">
          <button class="universidad-dot w-3 h-3 rounded-full bg-colegio-yellow transition-all duration-300" data-index="0"></button>
          <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="1"></button>
          <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="2"></button>
          <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="3"></button>
          <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="4"></button>
        </div>
      </div>

    </div>
  </section>

  <!-- Est√°ndares Internacionales -->
  <section class="py-24 bg-[#F5F5F5] relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-0 left-0 w-96 h-96 bg-colegio-blue/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-colegio-yellow/5 rounded-full blur-3xl"></div>
    
    <div class="max-w-6xl mx-auto px-4 relative z-10">
      <div class="text-center mb-16 fade-in-section">
        <span class="text-colegio-yellow font-bold text-sm tracking-wider uppercase mb-2 block">Certificaci√≥n y Calidad</span>
        <h2 class="text-4xl md:text-5xl font-black text-colegio-blue mb-4">EST√ÅNDARES INTERNACIONALES</h2>
        <div class="w-24 h-1.5 bg-gradient-to-r from-transparent via-colegio-yellow to-transparent mx-auto"></div>
        <p class="mt-6 text-gray-600 text-lg max-w-2xl mx-auto">
          Nuestros programas cuentan con certificaciones internacionales que garantizan la excelencia educativa.
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-10">
        <!-- Cambridge -->
        <div class="fade-in-section group">
          <div class="bg-white rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
            <div class="relative overflow-hidden aspect-square">
              <img 
                src="/Estandares/CERTIFICACION_CAMBRIDGE.webp" 
                alt="Certificaci√≥n Cambridge" 
                class="w-full h-full object-contain p-8 bg-white group-hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="p-6 border-t-4 border-colegio-yellow">
              <h3 class="text-xl font-black text-colegio-blue mb-3 group-hover:text-colegio-yellow transition-colors">
                Somos Centro Autorizado
              </h3>
              <p class="text-gray-600 leading-relaxed">
                Accede a una certificaci√≥n de ingl√©s con reconocimiento internacional.
                Te preparamos para rendir con √©xito los ex√°menes Cambridge y validar tu nivel de ingl√©s a nivel global.
              </p>
            </div>
          </div>
        </div>

        <!-- IBEC -->
        <div class="fade-in-section group" style="animation-delay: 0.1s;">
          <div class="bg-white rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
            <div class="relative overflow-hidden aspect-square">
              <img 
                src="/Estandares/IBEC.webp" 
                alt="IBEC" 
                class="w-full h-full object-contain p-8 bg-white group-hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="p-6 border-t-4 border-colegio-yellow">
              <h3 class="text-xl font-black text-colegio-blue mb-3 group-hover:text-colegio-yellow transition-colors">
                Somos Centro Autorizado IBEC
              </h3>
              <p class="text-gray-600 leading-relaxed">
                Certificaci√≥n internacional en habilidades empresariales.
                Formaci√≥n en liderazgo, trabajo en equipo y emprendimiento, orientada al entorno acad√©mico y laboral.
              </p>
            </div>
          </div>
        </div>

        <!-- IBEC CE -->
        <div class="fade-in-section group" style="animation-delay: 0.2s;">
          <div class="bg-white rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
            <div class="relative overflow-hidden aspect-square">
              <img 
                src="/Estandares/IBEC_CE.webp" 
                alt="IBEC CE" 
                class="w-full h-full object-contain p-8 bg-white group-hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="p-6 border-t-4 border-colegio-yellow">
              <h3 class="text-xl font-black text-colegio-blue mb-3 group-hover:text-colegio-yellow transition-colors">
                Somos Centro Autorizado IBEC
              </h3>
              <p class="text-gray-600 leading-relaxed">
                Desarrolla habilidades empresariales con certificaci√≥n internacional.
                Potencia tu liderazgo, capacidad de decisi√≥n y mentalidad emprendedora desde hoy.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonios -->
  <section class="py-24 bg-gradient-to-br from-colegio-blue via-colegio-blue/95 to-colegio-blue text-white relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-0 left-0 w-96 h-96 bg-colegio-yellow/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full blur-3xl"></div>
    
    <div class="max-w-5xl mx-auto px-4 relative z-10">
      <div class="text-center mb-16 fade-in-section">
        <span class="text-colegio-yellow font-bold text-sm tracking-wider uppercase mb-2 block">Experiencias Reales</span>
        <h2 class="text-4xl md:text-5xl font-black mb-4">Testimonios de Nuestra Comunidad</h2>
        <div class="w-24 h-1.5 bg-gradient-to-r from-transparent via-colegio-yellow to-transparent mx-auto"></div>
        <p class="mt-6 text-white/90 text-lg max-w-2xl mx-auto">
          Conoce las experiencias de familias que forman parte de nuestra comunidad educativa.
        </p>
      </div>

      <!-- Carrusel de Videos -->
      <div class="relative">
        <div class="overflow-hidden">
          <div id="testimonios-carousel" class="flex transition-transform duration-500 ease-out">
            <!-- Video Testimonio 1 -->
            <div class="w-full flex-shrink-0 px-4 md:px-60">
              <div class="bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden shadow-2xl border border-white/20 mx-auto">
                <div class="relative h-[400px] md:h-[500px]">
                  <iframe 
                    src="https://player.vimeo.com/video/1158487706?badge=0&autopause=0&player_id=0&app_id=58479&title=0&byline=0&portrait=0" 
                    frameborder="0" 
                    allow="autoplay; fullscreen; picture-in-picture; clipboard-write" 
                    style="position:absolute;top:0;left:0;width:100%;height:100%;" 
                    title="Testimonio 1"
                  ></iframe>
                </div>
              </div>
            </div>

            <!-- Video Testimonio 2 -->
            <div class="w-full flex-shrink-0 px-4 md:px-60">
              <div class="bg-white/10 backdrop-blur-sm rounded-2xl overflow-hidden shadow-2xl border border-white/20 mx-auto">
                <div class="relative h-[400px] md:h-[500px]">
                  <iframe 
                    src="https://player.vimeo.com/video/1158488197?badge=0&autopause=0&player_id=0&app_id=58479&title=0&byline=0&portrait=0" 
                    frameborder="0" 
                    allow="autoplay; fullscreen; picture-in-picture; clipboard-write" 
                    style="position:absolute;top:0;left:0;width:100%;height:100%;" 
                    title="Testimonio 2"
                  ></iframe>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controles del Carrusel -->
        <button id="prev-testimonio" class="absolute left-0 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-colegio-blue p-4 rounded-full shadow-2xl transition-all duration-300 z-10 hover:scale-110">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <button id="next-testimonio" class="absolute right-0 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-colegio-blue p-4 rounded-full shadow-2xl transition-all duration-300 z-10 hover:scale-110">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>

        <!-- Indicadores -->
        <div class="flex justify-center gap-3 mt-8">
          <button class="testimonio-dot w-3 h-3 rounded-full bg-colegio-yellow transition-all duration-300"></button>
          <button class="testimonio-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300"></button>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Galer√≠a de Fotos -->
  <section class="py-24 bg-[#EDEDF6] relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-colegio-blue/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-colegio-yellow/5 rounded-full blur-3xl"></div>
    
    <div class="max-w-6xl mx-auto px-4 relative z-10">
      <div class="text-center mb-16 fade-in-section">
        <span class="text-colegio-yellow font-bold text-sm tracking-wider uppercase mb-2 block">Momentos Especiales</span>
        <h2 class="text-4xl md:text-5xl font-black text-colegio-blue mb-4">Galer√≠a de Fotos</h2>
        <div class="w-24 h-1.5 bg-gradient-to-r from-transparent via-colegio-yellow to-transparent mx-auto"></div>
        <p class="mt-6 text-gray-700 text-lg max-w-2xl mx-auto">
          Revive los momentos m√°s importantes de nuestra comunidad educativa.
        </p>
      </div>

      <!-- Botones de Categor√≠as -->
      <div class="flex flex-wrap justify-center gap-3 mb-12 fade-in-section">
        <button class="galeria-btn active bg-colegio-yellow hover:bg-colegio-blue text-colegio-blue hover:text-white font-bold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105" data-categoria="aniversario">
          Aniversario
        </button>
        <button class="galeria-btn bg-white hover:bg-colegio-yellow text-colegio-blue font-bold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105" data-categoria="dia-logro">
          D√≠a del Logro
        </button>
        <button class="galeria-btn bg-white hover:bg-colegio-yellow text-colegio-blue font-bold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105" data-categoria="feria-ciencias">
          Feria de Ciencias
        </button>
        <button class="galeria-btn bg-white hover:bg-colegio-yellow text-colegio-blue font-bold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105" data-categoria="graduacion">
          Graduaci√≥n
        </button>
        <button class="galeria-btn bg-white hover:bg-colegio-yellow text-colegio-blue font-bold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105" data-categoria="dia-deporte">
          D√≠a del Deporte
        </button>
      </div>

      <!-- Grid de Fotos -->
      <div id="galeria-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 fade-in-section">
        <!-- Las fotos se cargar√°n din√°micamente aqu√≠ -->
      </div>
    </div>
  </section>
</Layout>


<style>
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideInUp {
    from { 
      opacity: 0; 
      transform: translateY(20px);
    }
    to { 
      opacity: 1; 
      transform: translateY(0);
    }
  }

  .fade-in-section {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
  }

  .fade-in-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .stat-item {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 0.6s ease-out forwards;
  }

  .stat-item:nth-child(1) { animation-delay: 0.1s; }
  .stat-item:nth-child(2) { animation-delay: 0.2s; }
  .stat-item:nth-child(3) { animation-delay: 0.3s; }
  .stat-item:nth-child(4) { animation-delay: 0.4s; }

  #galeria-grid {
    transition: opacity 0.15s ease-out, transform 0.15s ease-out;
  }

  .galeria-item {
    opacity: 0;
    animation: slideInUp 0.3s ease-out forwards;
  }
</style>

<script>
  // Intersection Observer para animaciones al hacer scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);

  document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));

  // Counter animation para estad√≠sticas
  function animateCounter(element: HTMLElement) {
    const target = parseInt(element.getAttribute('data-target') || '0');
    const duration = 2000;
    const increment = target / (duration / 16);
    let current = 0;

    const updateCounter = () => {
      current += increment;
      if (current < target) {
        element.textContent = Math.floor(current).toString();
        requestAnimationFrame(updateCounter);
      } else {
        element.textContent = target.toString();
      }
    };

    updateCounter();
  }

  // Observar contadores
  const counterObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
        animateCounter(entry.target as HTMLElement);
        entry.target.classList.add('counted');
      }
    });
  }, { threshold: 0.5 });

  document.querySelectorAll('.counter').forEach(counter => counterObserver.observe(counter));

  // Galer√≠a de fotos con botones de categor√≠as
  const galeriasData = {
    'aniversario': {
      title: 'Aniversario',
      photos: ['/Galeria/Prueba1.webp', '/Galeria/Prueba2.webp', '/Galeria/Prueba3.webp', '/Galeria/Prueba4.webp', '/Galeria/Prueba5.webp', '/Galeria/Prueba1.webp']
    },
    'dia-logro': {
      title: 'D√≠a del Logro',
      photos: ['/Galeria/Prueba2.webp', '/Galeria/Prueba3.webp', '/Galeria/Prueba4.webp', '/Galeria/Prueba5.webp', '/Galeria/Prueba1.webp', '/Galeria/Prueba2.webp']
    },
    'feria-ciencias': {
      title: 'Feria de Ciencias',
      photos: ['/Galeria/Prueba3.webp', '/Galeria/Prueba4.webp', '/Galeria/Prueba5.webp', '/Galeria/Prueba1.webp', '/Galeria/Prueba2.webp', '/Galeria/Prueba3.webp']
    },
    'graduacion': {
      title: 'Graduaci√≥n',
      photos: ['/Galeria/Prueba4.webp', '/Galeria/Prueba5.webp', '/Galeria/Prueba1.webp', '/Galeria/Prueba2.webp', '/Galeria/Prueba3.webp', '/Galeria/Prueba4.webp']
    },
    'dia-deporte': {
      title: 'D√≠a del Deporte',
      photos: ['/Galeria/Prueba5.webp', '/Galeria/Prueba1.webp', '/Galeria/Prueba2.webp', '/Galeria/Prueba3.webp', '/Galeria/Prueba4.webp', '/Galeria/Prueba5.webp']
    }
  };

  const galeriaGrid = document.getElementById('galeria-grid');
  const galeriaBotones = document.querySelectorAll('.galeria-btn');

  function mostrarFotos(categoria: string) {
    const data = galeriasData[categoria as keyof typeof galeriasData];
    
    if (data && galeriaGrid) {
      // Efecto de salida m√°s r√°pido
      galeriaGrid.style.opacity = '0';
      galeriaGrid.style.transform = 'scale(0.98)';
      
      // Cambiar contenido despu√©s de animaci√≥n corta
      setTimeout(() => {
        galeriaGrid.innerHTML = data.photos.map((photo, index) => `
          <div class="galeria-item group cursor-pointer overflow-hidden rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2" style="animation-delay: ${index * 0.05}s">
            <div class="relative aspect-square">
              <img src="${photo}" alt="${data.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300" loading="lazy" />
              <div class="absolute inset-0 bg-gradient-to-t from-colegio-blue/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            </div>
          </div>
        `).join('');
        
        // Efecto de entrada inmediato
        requestAnimationFrame(() => {
          galeriaGrid.style.opacity = '1';
          galeriaGrid.style.transform = 'scale(1)';
        });
      }, 150);
    }
  }

  galeriaBotones.forEach(btn => {
    btn.addEventListener('click', () => {
      // Remover clase active de todos los botones
      galeriaBotones.forEach(b => {
        b.classList.remove('active', 'bg-colegio-yellow', 'text-colegio-blue');
        b.classList.add('bg-white', 'text-colegio-blue');
      });
      
      // Agregar clase active al bot√≥n clickeado
      btn.classList.add('active', 'bg-colegio-yellow', 'text-colegio-blue');
      btn.classList.remove('bg-white');
      
      // Mostrar fotos de la categor√≠a
      const categoria = btn.getAttribute('data-categoria');
      if (categoria) {
        mostrarFotos(categoria);
      }
    });
  });

  // Cargar la primera categor√≠a por defecto
  mostrarFotos('aniversario');

  // Carrusel de Testimonios
  const testimoniosCarousel = document.getElementById('testimonios-carousel');
  const prevTestimonio = document.getElementById('prev-testimonio');
  const nextTestimonio = document.getElementById('next-testimonio');
  const testimonioDots = document.querySelectorAll('.testimonio-dot');
  let currentTestimonioIndex = 0;
  const totalTestimonios = 2;

  function updateTestimonioCarousel() {
    if (testimoniosCarousel) {
      testimoniosCarousel.style.transform = `translateX(-${currentTestimonioIndex * 100}%)`;
      
      // Actualizar dots
      testimonioDots.forEach((dot, index) => {
        if (index === currentTestimonioIndex) {
          dot.classList.remove('bg-white/30');
          dot.classList.add('bg-colegio-yellow');
        } else {
          dot.classList.remove('bg-colegio-yellow');
          dot.classList.add('bg-white/30');
        }
      });
    }
  }

  prevTestimonio?.addEventListener('click', () => {
    currentTestimonioIndex = (currentTestimonioIndex - 1 + totalTestimonios) % totalTestimonios;
    updateTestimonioCarousel();
  });

  nextTestimonio?.addEventListener('click', () => {
    currentTestimonioIndex = (currentTestimonioIndex + 1) % totalTestimonios;
    updateTestimonioCarousel();
  });

  testimonioDots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      currentTestimonioIndex = index;
      updateTestimonioCarousel();
    });
  });

  // Carrusel de Universidades Estilo Coverflow
  const universidades = [
    { src: '/Universidades/UNT.webp', alt: 'Universidad Nacional de Trujillo' },
    { src: '/Universidades/UNMSM.webp', alt: 'Universidad Nacional Mayor de San Marcos' },
    { src: '/Universidades/UPCH.webp', alt: 'Universidad Peruana Cayetano Heredia' },
    { src: '/Universidades/USIL.webp', alt: 'Universidad San Ignacio de Loyola' },
    { src: '/Universidades/USMP.webp', alt: 'Universidad de San Mart√≠n de Porres' }
  ];

  let currentUniversidadIndex = 0;
  const universidadLeft = document.getElementById('universidad-left');
  const universidadCenter = document.getElementById('universidad-center');
  const universidadRight = document.getElementById('universidad-right');
  const prevUniversidad = document.getElementById('prev-universidad');
  const nextUniversidad = document.getElementById('next-universidad');
  const universidadDots = document.querySelectorAll('.universidad-dot');

  function updateUniversidadCarousel() {
    const total = universidades.length;
    
    // Calcular √≠ndices
    const leftIndex = (currentUniversidadIndex - 1 + total) % total;
    const centerIndex = currentUniversidadIndex;
    const rightIndex = (currentUniversidadIndex + 1) % total;
    
    // Actualizar im√°genes
    if (universidadLeft) {
      const leftImg = universidadLeft.querySelector('img');
      if (leftImg) {
        leftImg.src = universidades[leftIndex].src;
        leftImg.alt = universidades[leftIndex].alt;
      }
    }
    
    if (universidadCenter) {
      const centerImg = universidadCenter.querySelector('img');
      if (centerImg) {
        centerImg.src = universidades[centerIndex].src;
        centerImg.alt = universidades[centerIndex].alt;
      }
    }
    
    if (universidadRight) {
      const rightImg = universidadRight.querySelector('img');
      if (rightImg) {
        rightImg.src = universidades[rightIndex].src;
        rightImg.alt = universidades[rightIndex].alt;
      }
    }
    
    // Actualizar indicadores
    universidadDots.forEach((dot, index) => {
      if (index === currentUniversidadIndex) {
        dot.classList.remove('bg-white/30');
        dot.classList.add('bg-colegio-yellow');
      } else {
        dot.classList.remove('bg-colegio-yellow');
        dot.classList.add('bg-white/30');
      }
    });
  }

  // Navegaci√≥n
  prevUniversidad?.addEventListener('click', () => {
    currentUniversidadIndex = (currentUniversidadIndex - 1 + universidades.length) % universidades.length;
    updateUniversidadCarousel();
  });

  nextUniversidad?.addEventListener('click', () => {
    currentUniversidadIndex = (currentUniversidadIndex + 1) % universidades.length;
    updateUniversidadCarousel();
  });

  // Click en im√°genes laterales
  universidadLeft?.addEventListener('click', () => {
    currentUniversidadIndex = (currentUniversidadIndex - 1 + universidades.length) % universidades.length;
    updateUniversidadCarousel();
  });

  universidadRight?.addEventListener('click', () => {
    currentUniversidadIndex = (currentUniversidadIndex + 1) % universidades.length;
    updateUniversidadCarousel();
  });

  // Click en indicadores
  universidadDots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      currentUniversidadIndex = index;
      updateUniversidadCarousel();
    });
  });

  // Inicializar carrusel
  updateUniversidadCarousel();
</script>