<section class="py-24 bg-gradient-to-br from-colegio-blue via-colegio-blue/95 to-colegio-blue text-white relative overflow-hidden">
  <div class="absolute top-0 right-0 w-96 h-96 bg-colegio-yellow/10 rounded-full blur-3xl"></div>
  <div class="absolute bottom-0 left-0 w-96 h-96 bg-white/5 rounded-full blur-3xl"></div>

  <div class="max-w-6xl mx-auto px-4 relative z-10">
    <div class="text-center mb-16 fade-in-section">
      <span class="text-colegio-yellow font-bold text-sm tracking-wider uppercase mb-2 block">Nuestro Orgullo</span>
      <h2 class="text-4xl md:text-5xl font-black mb-4">Universidades de Destino</h2>
      <div class="w-24 h-1.5 bg-gradient-to-r from-transparent via-colegio-yellow to-transparent mx-auto"></div>
      <p class="mt-6 text-white/90 text-lg max-w-2xl mx-auto">
        Nuestros egresados ingresan a las universidades más prestigiosas del país, demostrando la excelencia de su formación académica.
      </p>
    </div>

    <div class="relative max-w-6xl mx-auto px-4">
      <div class="flex items-center justify-center gap-4 md:gap-8 perspective-1000">
        <div id="universidad-left" class="hidden md:block cursor-pointer transform scale-75 opacity-50 hover:opacity-75 transition-all duration-300 hover:scale-80">
          <div class="bg-white rounded-2xl shadow-xl p-4 w-40 flex items-center justify-center">
            <img src="" alt="" class="max-w-full h-auto object-contain" />
          </div>
        </div>

        <div id="universidad-center" class="transform scale-100 z-10">
          <div class="bg-white rounded-3xl shadow-lg p-8 w-64 md:w-80 flex items-center justify-center">
            <img src="" alt="" class="max-w-full h-auto object-contain" />
          </div>
        </div>

        <div id="universidad-right" class="hidden md:block cursor-pointer transform scale-75 opacity-50 hover:opacity-75 transition-all duration-300 hover:scale-80">
          <div class="bg-white rounded-2xl shadow-xl p-4 w-40 flex items-center justify-center">
            <img src="" alt="" class="max-w-full h-auto object-contain" />
          </div>
        </div>
      </div>

      <button id="prev-universidad" class="absolute left-0 md:left-4 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-white hover:text-colegio-blue p-4 rounded-full shadow-xl transition-all duration-300 z-20 hover:scale-110">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>
      <button id="next-universidad" class="absolute right-0 md:right-4 top-1/2 -translate-y-1/2 bg-colegio-yellow hover:bg-white text-white hover:text-colegio-blue p-4 rounded-full shadow-xl transition-all duration-300 z-20 hover:scale-110">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>

      <div class="flex justify-center gap-3 mt-12">
        <button class="universidad-dot w-3 h-3 rounded-full bg-colegio-yellow transition-all duration-300" data-index="0"></button>
        <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="1"></button>
        <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="2"></button>
        <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="3"></button>
        <button class="universidad-dot w-3 h-3 rounded-full bg-white/30 transition-all duration-300" data-index="4"></button>
      </div>
    </div>
  </div>
</section>

<script>
  const universidades = [
    { src: '/Universidades/UNT.webp',  alt: 'Universidad Nacional de Trujillo' },
    { src: '/Universidades/UNMSM.webp', alt: 'Universidad Nacional Mayor de San Marcos' },
    { src: '/Universidades/UPCH.webp',  alt: 'Universidad Peruana Cayetano Heredia' },
    { src: '/Universidades/USIL.webp',  alt: 'Universidad San Ignacio de Loyola' },
    { src: '/Universidades/USMP.webp',  alt: 'Universidad de San Martín de Porres' },
  ];

  let currentIndex = 0;
  const total = universidades.length;

  const leftEl   = document.getElementById('universidad-left');
  const centerEl = document.getElementById('universidad-center');
  const rightEl  = document.getElementById('universidad-right');
  const dots     = document.querySelectorAll('.universidad-dot');

  function updateCarousel() {
    const leftIdx   = (currentIndex - 1 + total) % total;
    const rightIdx  = (currentIndex + 1) % total;

    const setImg = (container: HTMLElement | null, data: typeof universidades[0]) => {
      const img = container?.querySelector('img');
      if (img) { img.src = data.src; img.alt = data.alt; }
    };

    setImg(leftEl,   universidades[leftIdx]);
    setImg(centerEl, universidades[currentIndex]);
    setImg(rightEl,  universidades[rightIdx]);

    dots.forEach((dot, i) => {
      dot.classList.toggle('bg-colegio-yellow', i === currentIndex);
      dot.classList.toggle('bg-white/30', i !== currentIndex);
    });
  }

  const prev = () => { currentIndex = (currentIndex - 1 + total) % total; updateCarousel(); };
  const next = () => { currentIndex = (currentIndex + 1) % total; updateCarousel(); };

  document.getElementById('prev-universidad')?.addEventListener('click', prev);
  document.getElementById('next-universidad')?.addEventListener('click', next);
  leftEl?.addEventListener('click', prev);
  rightEl?.addEventListener('click', next);

  dots.forEach((dot, i) => {
    dot.addEventListener('click', () => { currentIndex = i; updateCarousel(); });
  });

  updateCarousel();
</script>
