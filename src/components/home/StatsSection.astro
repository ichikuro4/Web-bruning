<section class="py-16 bg-gradient-to-r from-colegio-blue to-colegio-blue/90 text-white">
  <div class="max-w-6xl mx-auto px-4">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
      <div class="stat-item">
        <div class="mb-4 flex justify-center">
          <img src="/Logos/EXCELENCIA.webp" alt="Excelencia" class="w-30 h-20 object-contain" />
        </div>
        <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="9">0</div>
        <div class="text-sm md:text-base font-semibold opacity-90">AÃ±os de Excelencia</div>
      </div>

      <div class="stat-item">
        <div class="mb-4 flex justify-center">
          <img src="/Logos/ALUMNOS.webp" alt="Exalumnos" class="w-30 h-20 object-contain" />
        </div>
        <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="500">0</div>
        <div class="text-sm md:text-base font-semibold opacity-90">Exalumnos</div>
      </div>

      <div class="stat-item">
        <div class="mb-4 flex justify-center">
          <img src="/Logos/CAMBRIDGE.webp" alt="Cambridge" class="w-30 h-20 object-contain" />
        </div>
        <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="600">0</div>
        <div class="text-sm md:text-base font-semibold opacity-90">Certificaciones Cambridge</div>
      </div>

      <div class="stat-item">
        <div class="mb-4 flex justify-center">
          <img src="/Logos/IBEC.webp" alt="IBEC" class="w-30 h-20 object-contain" />
        </div>
        <div class="text-5xl font-black text-colegio-yellow mb-2 counter" data-target="500">0</div>
        <div class="text-sm md:text-base font-semibold opacity-90">Certificaciones IBEC</div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .stat-item {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s ease-out forwards;
  }
  .stat-item:nth-child(1) { animation-delay: 0.1s; }
  .stat-item:nth-child(2) { animation-delay: 0.2s; }
  .stat-item:nth-child(3) { animation-delay: 0.3s; }
  .stat-item:nth-child(4) { animation-delay: 0.4s; }
</style>

<script>
  function animateCounter(element: HTMLElement) {
    const target = parseInt(element.getAttribute('data-target') || '0');
    const duration = 2000;
    const increment = target / (duration / 16);
    let current = 0;

    const update = () => {
      current += increment;
      if (current < target) {
        element.textContent = Math.floor(current).toString() + '+';
        requestAnimationFrame(update);
      } else {
        element.textContent = target.toString() + '+';
      }
    };
    update();
  }

  const counterObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
        animateCounter(entry.target as HTMLElement);
        entry.target.classList.add('counted');
      }
    });
  }, { threshold: 0.5 });

  document.querySelectorAll('.counter').forEach(el => counterObserver.observe(el));
</script>
